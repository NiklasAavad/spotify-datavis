import { ColorLegend } from './components/ColorLegend';
import * as d3 from 'd3';
import { useEffect, useState } from 'react';
import { MapContainer } from './components/MapContainer';
import { useQuery, useQueryClient } from 'react-query';
import { QueryType, useQueryFunction } from './hooks/useQueryFunction';
import { DateChanger, Dates } from './components/DateChanger';
import { Attribute, AttributeParameterChanger, AttributeParams } from './components/AttributeParameterChanger';
import { ScoreParameterChanger, ScoreParams } from './components/ScoreParameterChanger';
import { ScatterPlot } from './components/ScatterPlot';

// TODO delete this and use real data
const fake_data = JSON.parse(`[{"chart_rank":1,"danceability":0.852,"region":"Spain"},{"chart_rank":2,"danceability":0.761,"region":"Spain"},{"chart_rank":3,"danceability":0.508,"region":"Spain"},{"chart_rank":4,"danceability":0.72,"region":"Spain"},{"chart_rank":5,"danceability":0.825,"region":"Spain"},{"chart_rank":6,"danceability":0.663,"region":"Spain"},{"chart_rank":7,"danceability":0.832,"region":"Spain"},{"chart_rank":8,"danceability":0.723,"region":"Spain"},{"chart_rank":9,"danceability":0.776,"region":"Spain"},{"chart_rank":10,"danceability":0.461,"region":"Spain"},{"chart_rank":11,"danceability":0.736,"region":"Spain"},{"chart_rank":12,"danceability":0.476,"region":"Spain"},{"chart_rank":13,"danceability":0.818,"region":"Spain"},{"chart_rank":14,"danceability":0.681,"region":"Spain"},{"chart_rank":15,"danceability":0.748,"region":"Spain"},{"chart_rank":16,"danceability":0.772,"region":"Spain"},{"chart_rank":17,"danceability":0.783,"region":"Spain"},{"chart_rank":18,"danceability":0.761,"region":"Spain"},{"chart_rank":19,"danceability":0.744,"region":"Spain"},{"chart_rank":20,"danceability":0.785,"region":"Spain"},{"chart_rank":21,"danceability":0.73,"region":"Spain"},{"chart_rank":22,"danceability":0.49,"region":"Spain"},{"chart_rank":23,"danceability":0.695,"region":"Spain"},{"chart_rank":24,"danceability":0.688,"region":"Spain"},{"chart_rank":25,"danceability":0.745,"region":"Spain"},{"chart_rank":26,"danceability":0.721,"region":"Spain"},{"chart_rank":27,"danceability":0.761,"region":"Spain"},{"chart_rank":28,"danceability":0.703,"region":"Spain"},{"chart_rank":29,"danceability":0.617,"region":"Spain"},{"chart_rank":30,"danceability":0.715,"region":"Spain"},{"chart_rank":31,"danceability":0.639,"region":"Spain"},{"chart_rank":32,"danceability":0.608,"region":"Spain"},{"chart_rank":33,"danceability":0.716,"region":"Spain"},{"chart_rank":34,"danceability":0.732,"region":"Spain"},{"chart_rank":35,"danceability":0.791,"region":"Spain"},{"chart_rank":36,"danceability":0.76,"region":"Spain"},{"chart_rank":37,"danceability":0.358,"region":"Spain"},{"chart_rank":38,"danceability":0.818,"region":"Spain"},{"chart_rank":39,"danceability":0.648,"region":"Spain"},{"chart_rank":40,"danceability":0.68,"region":"Spain"},{"chart_rank":41,"danceability":0.768,"region":"Spain"},{"chart_rank":42,"danceability":0.729,"region":"Spain"},{"chart_rank":43,"danceability":0.751,"region":"Spain"},{"chart_rank":44,"danceability":0.666,"region":"Spain"},{"chart_rank":45,"danceability":0.542,"region":"Spain"},{"chart_rank":46,"danceability":0.624,"region":"Spain"},{"chart_rank":47,"danceability":0.728,"region":"Spain"},{"chart_rank":48,"danceability":0.773,"region":"Spain"},{"chart_rank":49,"danceability":0.628,"region":"Spain"},{"chart_rank":50,"danceability":0.899,"region":"Spain"},{"chart_rank":51,"danceability":0.771,"region":"Spain"},{"chart_rank":52,"danceability":0.735,"region":"Spain"},{"chart_rank":53,"danceability":0.742,"region":"Spain"},{"chart_rank":54,"danceability":0.712,"region":"Spain"},{"chart_rank":55,"danceability":0.676,"region":"Spain"},{"chart_rank":56,"danceability":0.668,"region":"Spain"},{"chart_rank":57,"danceability":0.772,"region":"Spain"},{"chart_rank":58,"danceability":0.696,"region":"Spain"},{"chart_rank":59,"danceability":0.766,"region":"Spain"},{"chart_rank":60,"danceability":0.483,"region":"Spain"},{"chart_rank":61,"danceability":0.614,"region":"Spain"},{"chart_rank":62,"danceability":0.639,"region":"Spain"},{"chart_rank":63,"danceability":0.639,"region":"Spain"},{"chart_rank":64,"danceability":0.725,"region":"Spain"},{"chart_rank":65,"danceability":0.647,"region":"Spain"},{"chart_rank":66,"danceability":0.614,"region":"Spain"},{"chart_rank":67,"danceability":0.875,"region":"Spain"},{"chart_rank":68,"danceability":0.67,"region":"Spain"},{"chart_rank":69,"danceability":0.928,"region":"Spain"},{"chart_rank":70,"danceability":0.794,"region":"Spain"},{"chart_rank":71,"danceability":0.686,"region":"Spain"},{"chart_rank":72,"danceability":0.616,"region":"Spain"},{"chart_rank":73,"danceability":0.691,"region":"Spain"},{"chart_rank":74,"danceability":0.663,"region":"Spain"},{"chart_rank":75,"danceability":0.67,"region":"Spain"},{"chart_rank":76,"danceability":0.602,"region":"Spain"},{"chart_rank":77,"danceability":0.78,"region":"Spain"},{"chart_rank":78,"danceability":0.644,"region":"Spain"},{"chart_rank":79,"danceability":0.723,"region":"Spain"},{"chart_rank":80,"danceability":0.754,"region":"Spain"},{"chart_rank":81,"danceability":0.743,"region":"Spain"},{"chart_rank":82,"danceability":0.469,"region":"Spain"},{"chart_rank":83,"danceability":0.662,"region":"Spain"},{"chart_rank":84,"danceability":0.757,"region":"Spain"},{"chart_rank":85,"danceability":0.599,"region":"Spain"},{"chart_rank":86,"danceability":0.745,"region":"Spain"},{"chart_rank":87,"danceability":0.832,"region":"Spain"},{"chart_rank":88,"danceability":0.645,"region":"Spain"},{"chart_rank":89,"danceability":0.605,"region":"Spain"},{"chart_rank":90,"danceability":0.589,"region":"Spain"},{"chart_rank":91,"danceability":0.733,"region":"Spain"},{"chart_rank":92,"danceability":0.827,"region":"Spain"},{"chart_rank":93,"danceability":0.796,"region":"Spain"},{"chart_rank":94,"danceability":0.69,"region":"Spain"},{"chart_rank":95,"danceability":0.781,"region":"Spain"},{"chart_rank":96,"danceability":0.636,"region":"Spain"},{"chart_rank":97,"danceability":0.61,"region":"Spain"},{"chart_rank":98,"danceability":0.433,"region":"Spain"},{"chart_rank":99,"danceability":0.788,"region":"Spain"},{"chart_rank":100,"danceability":0.781,"region":"Spain"},{"chart_rank":101,"danceability":0.49,"region":"Spain"},{"chart_rank":102,"danceability":0.566,"region":"Spain"},{"chart_rank":103,"danceability":0.609,"region":"Spain"},{"chart_rank":104,"danceability":0.777,"region":"Spain"},{"chart_rank":105,"danceability":0.631,"region":"Spain"},{"chart_rank":106,"danceability":0.627,"region":"Spain"},{"chart_rank":107,"danceability":0.707,"region":"Spain"},{"chart_rank":108,"danceability":0.769,"region":"Spain"},{"chart_rank":109,"danceability":0.573,"region":"Spain"},{"chart_rank":110,"danceability":0.765,"region":"Spain"},{"chart_rank":111,"danceability":0.806,"region":"Spain"},{"chart_rank":112,"danceability":0.567,"region":"Spain"},{"chart_rank":113,"danceability":0.697,"region":"Spain"},{"chart_rank":114,"danceability":0.564,"region":"Spain"},{"chart_rank":115,"danceability":0.563,"region":"Spain"},{"chart_rank":116,"danceability":0.423,"region":"Spain"},{"chart_rank":117,"danceability":0.72,"region":"Spain"},{"chart_rank":118,"danceability":0.692,"region":"Spain"},{"chart_rank":119,"danceability":0.734,"region":"Spain"},{"chart_rank":120,"danceability":0.803,"region":"Spain"},{"chart_rank":121,"danceability":0.486,"region":"Spain"},{"chart_rank":122,"danceability":0.671,"region":"Spain"},{"chart_rank":123,"danceability":0.787,"region":"Spain"},{"chart_rank":124,"danceability":0.815,"region":"Spain"},{"chart_rank":125,"danceability":0.695,"region":"Spain"},{"chart_rank":126,"danceability":0.495,"region":"Spain"},{"chart_rank":127,"danceability":0.749,"region":"Spain"},{"chart_rank":128,"danceability":0.314,"region":"Spain"},{"chart_rank":129,"danceability":0.668,"region":"Spain"},{"chart_rank":130,"danceability":0.783,"region":"Spain"},{"chart_rank":131,"danceability":0.719,"region":"Spain"},{"chart_rank":132,"danceability":0.774,"region":"Spain"},{"chart_rank":133,"danceability":0.822,"region":"Spain"},{"chart_rank":134,"danceability":0.793,"region":"Spain"},{"chart_rank":135,"danceability":0.793,"region":"Spain"},{"chart_rank":136,"danceability":0.676,"region":"Spain"},{"chart_rank":137,"danceability":0.793,"region":"Spain"},{"chart_rank":138,"danceability":0.746,"region":"Spain"},{"chart_rank":139,"danceability":0.838,"region":"Spain"},{"chart_rank":140,"danceability":0.742,"region":"Spain"},{"chart_rank":141,"danceability":0.849,"region":"Spain"},{"chart_rank":142,"danceability":0.644,"region":"Spain"},{"chart_rank":143,"danceability":0.654,"region":"Spain"},{"chart_rank":144,"danceability":0.803,"region":"Spain"},{"chart_rank":145,"danceability":0.773,"region":"Spain"},{"chart_rank":146,"danceability":0.596,"region":"Spain"},{"chart_rank":147,"danceability":0.636,"region":"Spain"},{"chart_rank":148,"danceability":0.658,"region":"Spain"},{"chart_rank":149,"danceability":0.748,"region":"Spain"},{"chart_rank":150,"danceability":0.81,"region":"Spain"},{"chart_rank":151,"danceability":0.774,"region":"Spain"},{"chart_rank":152,"danceability":0.628,"region":"Spain"},{"chart_rank":153,"danceability":0.459,"region":"Spain"},{"chart_rank":154,"danceability":0.725,"region":"Spain"},{"chart_rank":155,"danceability":0.763,"region":"Spain"},{"chart_rank":156,"danceability":0.835,"region":"Spain"},{"chart_rank":157,"danceability":0.77,"region":"Spain"},{"chart_rank":158,"danceability":0.926,"region":"Spain"},{"chart_rank":159,"danceability":0.694,"region":"Spain"},{"chart_rank":160,"danceability":0.713,"region":"Spain"},{"chart_rank":161,"danceability":0.485,"region":"Spain"},{"chart_rank":162,"danceability":0.641,"region":"Spain"},{"chart_rank":163,"danceability":0.61,"region":"Spain"},{"chart_rank":164,"danceability":0.654,"region":"Spain"},{"chart_rank":165,"danceability":0.638,"region":"Spain"},{"chart_rank":166,"danceability":0.505,"region":"Spain"},{"chart_rank":167,"danceability":0.723,"region":"Spain"},{"chart_rank":168,"danceability":0.886,"region":"Spain"},{"chart_rank":169,"danceability":0.642,"region":"Spain"},{"chart_rank":170,"danceability":0.491,"region":"Spain"},{"chart_rank":171,"danceability":0.717,"region":"Spain"},{"chart_rank":172,"danceability":0.531,"region":"Spain"},{"chart_rank":173,"danceability":0.843,"region":"Spain"},{"chart_rank":174,"danceability":0.748,"region":"Spain"},{"chart_rank":175,"danceability":0.736,"region":"Spain"},{"chart_rank":176,"danceability":0.698,"region":"Spain"},{"chart_rank":177,"danceability":0.481,"region":"Spain"},{"chart_rank":178,"danceability":0.77,"region":"Spain"},{"chart_rank":179,"danceability":0.782,"region":"Spain"},{"chart_rank":180,"danceability":0.818,"region":"Spain"},{"chart_rank":181,"danceability":0.621,"region":"Spain"},{"chart_rank":182,"danceability":0.703,"region":"Spain"},{"chart_rank":183,"danceability":0.76,"region":"Spain"},{"chart_rank":184,"danceability":0.721,"region":"Spain"},{"chart_rank":185,"danceability":0.804,"region":"Spain"},{"chart_rank":186,"danceability":0.756,"region":"Spain"},{"chart_rank":187,"danceability":0.6,"region":"Spain"},{"chart_rank":188,"danceability":0.367,"region":"Spain"},{"chart_rank":189,"danceability":0.845,"region":"Spain"},{"chart_rank":190,"danceability":0.671,"region":"Spain"},{"chart_rank":191,"danceability":0.774,"region":"Spain"},{"chart_rank":192,"danceability":0.632,"region":"Spain"},{"chart_rank":193,"danceability":0.797,"region":"Spain"},{"chart_rank":194,"danceability":0.757,"region":"Spain"},{"chart_rank":195,"danceability":0.861,"region":"Spain"},{"chart_rank":196,"danceability":0.746,"region":"Spain"},{"chart_rank":197,"danceability":0.865,"region":"Spain"},{"chart_rank":198,"danceability":0.945,"region":"Spain"},{"chart_rank":199,"danceability":0.525,"region":"Spain"},{"chart_rank":200,"danceability":0.493,"region":"Spain"},{"chart_rank":1,"danceability":0.852,"region":"Spain"},{"chart_rank":2,"danceability":0.761,"region":"Spain"},{"chart_rank":3,"danceability":0.825,"region":"Spain"},{"chart_rank":4,"danceability":0.72,"region":"Spain"},{"chart_rank":5,"danceability":0.508,"region":"Spain"},{"chart_rank":6,"danceability":0.663,"region":"Spain"},{"chart_rank":7,"danceability":0.461,"region":"Spain"},{"chart_rank":8,"danceability":0.723,"region":"Spain"},{"chart_rank":9,"danceability":0.832,"region":"Spain"},{"chart_rank":10,"danceability":0.776,"region":"Spain"},{"chart_rank":11,"danceability":0.476,"region":"Spain"},{"chart_rank":12,"danceability":0.681,"region":"Spain"},{"chart_rank":13,"danceability":0.736,"region":"Spain"},{"chart_rank":14,"danceability":0.818,"region":"Spain"},{"chart_rank":15,"danceability":0.748,"region":"Spain"},{"chart_rank":16,"danceability":0.783,"region":"Spain"},{"chart_rank":17,"danceability":0.772,"region":"Spain"},{"chart_rank":18,"danceability":0.761,"region":"Spain"},{"chart_rank":19,"danceability":0.744,"region":"Spain"},{"chart_rank":20,"danceability":0.785,"region":"Spain"},{"chart_rank":21,"danceability":0.695,"region":"Spain"},{"chart_rank":22,"danceability":0.49,"region":"Spain"},{"chart_rank":23,"danceability":0.73,"region":"Spain"},{"chart_rank":24,"danceability":0.688,"region":"Spain"},{"chart_rank":25,"danceability":0.721,"region":"Spain"},{"chart_rank":26,"danceability":0.745,"region":"Spain"},{"chart_rank":27,"danceability":0.617,"region":"Spain"},{"chart_rank":28,"danceability":0.761,"region":"Spain"},{"chart_rank":29,"danceability":0.703,"region":"Spain"},{"chart_rank":30,"danceability":0.358,"region":"Spain"},{"chart_rank":31,"danceability":0.608,"region":"Spain"},{"chart_rank":32,"danceability":0.732,"region":"Spain"},{"chart_rank":33,"danceability":0.715,"region":"Spain"},{"chart_rank":34,"danceability":0.639,"region":"Spain"},{"chart_rank":35,"danceability":0.791,"region":"Spain"},{"chart_rank":36,"danceability":0.716,"region":"Spain"},{"chart_rank":37,"danceability":0.76,"region":"Spain"},{"chart_rank":38,"danceability":0.818,"region":"Spain"},{"chart_rank":39,"danceability":0.648,"region":"Spain"},{"chart_rank":40,"danceability":0.68,"region":"Spain"},{"chart_rank":41,"danceability":0.773,"region":"Spain"},{"chart_rank":42,"danceability":0.624,"region":"Spain"},{"chart_rank":43,"danceability":0.768,"region":"Spain"},{"chart_rank":44,"danceability":0.542,"region":"Spain"},{"chart_rank":45,"danceability":0.666,"region":"Spain"},{"chart_rank":46,"danceability":0.728,"region":"Spain"},{"chart_rank":47,"danceability":0.729,"region":"Spain"},{"chart_rank":48,"danceability":0.628,"region":"Spain"},{"chart_rank":49,"danceability":0.751,"region":"Spain"},{"chart_rank":50,"danceability":0.771,"region":"Spain"},{"chart_rank":51,"danceability":0.899,"region":"Spain"},{"chart_rank":52,"danceability":0.735,"region":"Spain"},{"chart_rank":53,"danceability":0.742,"region":"Spain"},{"chart_rank":54,"danceability":0.676,"region":"Spain"},{"chart_rank":55,"danceability":0.614,"region":"Spain"},{"chart_rank":56,"danceability":0.483,"region":"Spain"},{"chart_rank":57,"danceability":0.647,"region":"Spain"},{"chart_rank":58,"danceability":0.772,"region":"Spain"},{"chart_rank":59,"danceability":0.668,"region":"Spain"},{"chart_rank":60,"danceability":0.712,"region":"Spain"},{"chart_rank":61,"danceability":0.696,"region":"Spain"},{"chart_rank":62,"danceability":0.614,"region":"Spain"},{"chart_rank":63,"danceability":0.686,"region":"Spain"},{"chart_rank":64,"danceability":0.639,"region":"Spain"},{"chart_rank":65,"danceability":0.928,"region":"Spain"},{"chart_rank":66,"danceability":0.639,"region":"Spain"},{"chart_rank":67,"danceability":0.766,"region":"Spain"},{"chart_rank":68,"danceability":0.725,"region":"Spain"},{"chart_rank":69,"danceability":0.794,"region":"Spain"},{"chart_rank":70,"danceability":0.67,"region":"Spain"},{"chart_rank":71,"danceability":0.602,"region":"Spain"},{"chart_rank":72,"danceability":0.67,"region":"Spain"},{"chart_rank":73,"danceability":0.875,"region":"Spain"},{"chart_rank":74,"danceability":0.663,"region":"Spain"},{"chart_rank":75,"danceability":0.469,"region":"Spain"},{"chart_rank":76,"danceability":0.616,"region":"Spain"},{"chart_rank":77,"danceability":0.691,"region":"Spain"},{"chart_rank":78,"danceability":0.662,"region":"Spain"},{"chart_rank":79,"danceability":0.644,"region":"Spain"},{"chart_rank":80,"danceability":0.78,"region":"Spain"},{"chart_rank":81,"danceability":0.781,"region":"Spain"},{"chart_rank":82,"danceability":0.723,"region":"Spain"},{"chart_rank":83,"danceability":0.605,"region":"Spain"},{"chart_rank":84,"danceability":0.645,"region":"Spain"},{"chart_rank":85,"danceability":0.743,"region":"Spain"},{"chart_rank":86,"danceability":0.754,"region":"Spain"},{"chart_rank":87,"danceability":0.781,"region":"Spain"},{"chart_rank":88,"danceability":0.757,"region":"Spain"},{"chart_rank":89,"danceability":0.636,"region":"Spain"},{"chart_rank":90,"danceability":0.599,"region":"Spain"},{"chart_rank":91,"danceability":0.832,"region":"Spain"},{"chart_rank":92,"danceability":0.745,"region":"Spain"},{"chart_rank":93,"danceability":0.697,"region":"Spain"},{"chart_rank":94,"danceability":0.589,"region":"Spain"},{"chart_rank":95,"danceability":0.433,"region":"Spain"},{"chart_rank":96,"danceability":0.573,"region":"Spain"},{"chart_rank":97,"danceability":0.796,"region":"Spain"},{"chart_rank":98,"danceability":0.563,"region":"Spain"},{"chart_rank":99,"danceability":0.609,"region":"Spain"},{"chart_rank":100,"danceability":0.69,"region":"Spain"},{"chart_rank":101,"danceability":0.49,"region":"Spain"},{"chart_rank":102,"danceability":0.733,"region":"Spain"},{"chart_rank":103,"danceability":0.827,"region":"Spain"},{"chart_rank":104,"danceability":0.788,"region":"Spain"},{"chart_rank":105,"danceability":0.486,"region":"Spain"},{"chart_rank":106,"danceability":0.668,"region":"Spain"},{"chart_rank":107,"danceability":0.61,"region":"Spain"},{"chart_rank":108,"danceability":0.803,"region":"Spain"},{"chart_rank":109,"danceability":0.423,"region":"Spain"},{"chart_rank":110,"danceability":0.314,"region":"Spain"},{"chart_rank":111,"danceability":0.777,"region":"Spain"},{"chart_rank":112,"danceability":0.671,"region":"Spain"},{"chart_rank":113,"danceability":0.765,"region":"Spain"},{"chart_rank":114,"danceability":0.769,"region":"Spain"},{"chart_rank":115,"danceability":0.495,"region":"Spain"},{"chart_rank":116,"danceability":0.806,"region":"Spain"},{"chart_rank":117,"danceability":0.566,"region":"Spain"},{"chart_rank":118,"danceability":0.707,"region":"Spain"},{"chart_rank":119,"danceability":0.564,"region":"Spain"},{"chart_rank":120,"danceability":0.734,"region":"Spain"},{"chart_rank":121,"danceability":0.627,"region":"Spain"},{"chart_rank":122,"danceability":0.631,"region":"Spain"},{"chart_rank":123,"danceability":0.692,"region":"Spain"},{"chart_rank":124,"danceability":0.567,"region":"Spain"},{"chart_rank":125,"danceability":0.72,"region":"Spain"},{"chart_rank":126,"danceability":0.787,"region":"Spain"},{"chart_rank":127,"danceability":0.695,"region":"Spain"},{"chart_rank":128,"danceability":0.815,"region":"Spain"},{"chart_rank":129,"danceability":0.596,"region":"Spain"},{"chart_rank":130,"danceability":0.742,"region":"Spain"},{"chart_rank":131,"danceability":0.838,"region":"Spain"},{"chart_rank":132,"danceability":0.783,"region":"Spain"},{"chart_rank":133,"danceability":0.793,"region":"Spain"},{"chart_rank":134,"danceability":0.746,"region":"Spain"},{"chart_rank":135,"danceability":0.719,"region":"Spain"},{"chart_rank":136,"danceability":0.822,"region":"Spain"},{"chart_rank":137,"danceability":0.749,"region":"Spain"},{"chart_rank":138,"danceability":0.774,"region":"Spain"},{"chart_rank":139,"danceability":0.793,"region":"Spain"},{"chart_rank":140,"danceability":0.803,"region":"Spain"},{"chart_rank":141,"danceability":0.676,"region":"Spain"},{"chart_rank":142,"danceability":0.81,"region":"Spain"},{"chart_rank":143,"danceability":0.849,"region":"Spain"},{"chart_rank":144,"danceability":0.644,"region":"Spain"},{"chart_rank":145,"danceability":0.926,"region":"Spain"},{"chart_rank":146,"danceability":0.774,"region":"Spain"},{"chart_rank":147,"danceability":0.654,"region":"Spain"},{"chart_rank":148,"danceability":0.636,"region":"Spain"},{"chart_rank":149,"danceability":0.773,"region":"Spain"},{"chart_rank":150,"danceability":0.485,"region":"Spain"},{"chart_rank":151,"danceability":0.793,"region":"Spain"},{"chart_rank":152,"danceability":0.835,"region":"Spain"},{"chart_rank":153,"danceability":0.642,"region":"Spain"},{"chart_rank":154,"danceability":0.628,"region":"Spain"},{"chart_rank":155,"danceability":0.61,"region":"Spain"},{"chart_rank":156,"danceability":0.658,"region":"Spain"},{"chart_rank":157,"danceability":0.748,"region":"Spain"},{"chart_rank":158,"danceability":0.459,"region":"Spain"},{"chart_rank":159,"danceability":0.886,"region":"Spain"},{"chart_rank":160,"danceability":0.725,"region":"Spain"},{"chart_rank":161,"danceability":0.763,"region":"Spain"},{"chart_rank":162,"danceability":0.694,"region":"Spain"},{"chart_rank":163,"danceability":0.77,"region":"Spain"},{"chart_rank":164,"danceability":0.641,"region":"Spain"},{"chart_rank":165,"danceability":0.713,"region":"Spain"},{"chart_rank":166,"danceability":0.491,"region":"Spain"},{"chart_rank":167,"danceability":0.505,"region":"Spain"},{"chart_rank":168,"danceability":0.736,"region":"Spain"},{"chart_rank":169,"danceability":0.638,"region":"Spain"},{"chart_rank":170,"danceability":0.481,"region":"Spain"},{"chart_rank":171,"danceability":0.721,"region":"Spain"},{"chart_rank":172,"danceability":0.703,"region":"Spain"},{"chart_rank":173,"danceability":0.843,"region":"Spain"},{"chart_rank":174,"danceability":0.621,"region":"Spain"},{"chart_rank":175,"danceability":0.531,"region":"Spain"},{"chart_rank":176,"danceability":0.748,"region":"Spain"},{"chart_rank":177,"danceability":0.804,"region":"Spain"},{"chart_rank":178,"danceability":0.865,"region":"Spain"},{"chart_rank":179,"danceability":0.717,"region":"Spain"},{"chart_rank":180,"danceability":0.493,"region":"Spain"},{"chart_rank":181,"danceability":0.818,"region":"Spain"},{"chart_rank":182,"danceability":0.654,"region":"Spain"},{"chart_rank":183,"danceability":0.723,"region":"Spain"},{"chart_rank":184,"danceability":0.632,"region":"Spain"},{"chart_rank":185,"danceability":0.797,"region":"Spain"},{"chart_rank":186,"danceability":0.459,"region":"Spain"},{"chart_rank":187,"danceability":0.945,"region":"Spain"},{"chart_rank":188,"danceability":0.782,"region":"Spain"},{"chart_rank":189,"danceability":0.861,"region":"Spain"},{"chart_rank":190,"danceability":0.746,"region":"Spain"},{"chart_rank":191,"danceability":0.756,"region":"Spain"},{"chart_rank":192,"danceability":0.581,"region":"Spain"},{"chart_rank":193,"danceability":0.757,"region":"Spain"},{"chart_rank":194,"danceability":0.845,"region":"Spain"},{"chart_rank":195,"danceability":0.6,"region":"Spain"},{"chart_rank":196,"danceability":0.367,"region":"Spain"},{"chart_rank":197,"danceability":0.77,"region":"Spain"},{"chart_rank":198,"danceability":0.422,"region":"Spain"},{"chart_rank":199,"danceability":0.698,"region":"Spain"},{"chart_rank":200,"danceability":0.525,"region":"Spain"},{"chart_rank":1,"danceability":0.852,"region":"Spain"},{"chart_rank":2,"danceability":0.761,"region":"Spain"},{"chart_rank":3,"danceability":0.825,"region":"Spain"},{"chart_rank":4,"danceability":0.72,"region":"Spain"},{"chart_rank":5,"danceability":0.508,"region":"Spain"},{"chart_rank":6,"danceability":0.663,"region":"Spain"},{"chart_rank":7,"danceability":0.461,"region":"Spain"},{"chart_rank":8,"danceability":0.832,"region":"Spain"},{"chart_rank":9,"danceability":0.723,"region":"Spain"},{"chart_rank":10,"danceability":0.818,"region":"Spain"},{"chart_rank":11,"danceability":0.776,"region":"Spain"},{"chart_rank":12,"danceability":0.681,"region":"Spain"},{"chart_rank":13,"danceability":0.476,"region":"Spain"},{"chart_rank":14,"danceability":0.748,"region":"Spain"},{"chart_rank":15,"danceability":0.783,"region":"Spain"},{"chart_rank":16,"danceability":0.736,"region":"Spain"},{"chart_rank":17,"danceability":0.772,"region":"Spain"},{"chart_rank":18,"danceability":0.761,"region":"Spain"},{"chart_rank":19,"danceability":0.744,"region":"Spain"},{"chart_rank":20,"danceability":0.785,"region":"Spain"},{"chart_rank":21,"danceability":0.695,"region":"Spain"},{"chart_rank":22,"danceability":0.49,"region":"Spain"},{"chart_rank":23,"danceability":0.358,"region":"Spain"},{"chart_rank":24,"danceability":0.745,"region":"Spain"},{"chart_rank":25,"danceability":0.688,"region":"Spain"},{"chart_rank":26,"danceability":0.73,"region":"Spain"},{"chart_rank":27,"danceability":0.703,"region":"Spain"},{"chart_rank":28,"danceability":0.761,"region":"Spain"},{"chart_rank":29,"danceability":0.721,"region":"Spain"},{"chart_rank":30,"danceability":0.732,"region":"Spain"},{"chart_rank":31,"danceability":0.608,"region":"Spain"},{"chart_rank":32,"danceability":0.639,"region":"Spain"},{"chart_rank":33,"danceability":0.617,"region":"Spain"},{"chart_rank":34,"danceability":0.715,"region":"Spain"},{"chart_rank":35,"danceability":0.76,"region":"Spain"},{"chart_rank":36,"danceability":0.791,"region":"Spain"},{"chart_rank":37,"danceability":0.648,"region":"Spain"},{"chart_rank":38,"danceability":0.818,"region":"Spain"},{"chart_rank":39,"danceability":0.716,"region":"Spain"},{"chart_rank":40,"danceability":0.773,"region":"Spain"},{"chart_rank":41,"danceability":0.728,"region":"Spain"},{"chart_rank":42,"danceability":0.68,"region":"Spain"},{"chart_rank":43,"danceability":0.624,"region":"Spain"},{"chart_rank":44,"danceability":0.768,"region":"Spain"},{"chart_rank":45,"danceability":0.628,"region":"Spain"},{"chart_rank":46,"danceability":0.542,"region":"Spain"},{"chart_rank":47,"danceability":0.771,"region":"Spain"},{"chart_rank":48,"danceability":0.666,"region":"Spain"},{"chart_rank":49,"danceability":0.729,"region":"Spain"},{"chart_rank":50,"danceability":0.751,"region":"Spain"},{"chart_rank":51,"danceability":0.735,"region":"Spain"},{"chart_rank":52,"danceability":0.899,"region":"Spain"},{"chart_rank":53,"danceability":0.712,"region":"Spain"},{"chart_rank":54,"danceability":0.742,"region":"Spain"},{"chart_rank":55,"danceability":0.483,"region":"Spain"},{"chart_rank":56,"danceability":0.696,"region":"Spain"},{"chart_rank":57,"danceability":0.614,"region":"Spain"},{"chart_rank":58,"danceability":0.676,"region":"Spain"},{"chart_rank":59,"danceability":0.668,"region":"Spain"},{"chart_rank":60,"danceability":0.647,"region":"Spain"},{"chart_rank":61,"danceability":0.772,"region":"Spain"},{"chart_rank":62,"danceability":0.639,"region":"Spain"},{"chart_rank":63,"danceability":0.928,"region":"Spain"},{"chart_rank":64,"danceability":0.67,"region":"Spain"},{"chart_rank":65,"danceability":0.686,"region":"Spain"},{"chart_rank":66,"danceability":0.725,"region":"Spain"},{"chart_rank":67,"danceability":0.614,"region":"Spain"},{"chart_rank":68,"danceability":0.602,"region":"Spain"},{"chart_rank":69,"danceability":0.639,"region":"Spain"},{"chart_rank":70,"danceability":0.469,"region":"Spain"},{"chart_rank":71,"danceability":0.662,"region":"Spain"},{"chart_rank":72,"danceability":0.766,"region":"Spain"},{"chart_rank":73,"danceability":0.781,"region":"Spain"},{"chart_rank":74,"danceability":0.794,"region":"Spain"},{"chart_rank":75,"danceability":0.67,"region":"Spain"},{"chart_rank":76,"danceability":0.663,"region":"Spain"},{"chart_rank":77,"danceability":0.875,"region":"Spain"},{"chart_rank":78,"danceability":0.787,"region":"Spain"},{"chart_rank":79,"danceability":0.78,"region":"Spain"},{"chart_rank":80,"danceability":0.723,"region":"Spain"},{"chart_rank":81,"danceability":0.644,"region":"Spain"},{"chart_rank":82,"danceability":0.599,"region":"Spain"},{"chart_rank":83,"danceability":0.636,"region":"Spain"},{"chart_rank":84,"danceability":0.645,"region":"Spain"},{"chart_rank":85,"danceability":0.564,"region":"Spain"},{"chart_rank":86,"danceability":0.743,"region":"Spain"},{"chart_rank":87,"danceability":0.433,"region":"Spain"},{"chart_rank":88,"danceability":0.616,"region":"Spain"},{"chart_rank":89,"danceability":0.691,"region":"Spain"},{"chart_rank":90,"danceability":0.697,"region":"Spain"},{"chart_rank":91,"danceability":0.563,"region":"Spain"},{"chart_rank":92,"danceability":0.745,"region":"Spain"},{"chart_rank":93,"danceability":0.757,"region":"Spain"},{"chart_rank":94,"danceability":0.668,"region":"Spain"},{"chart_rank":95,"danceability":0.589,"region":"Spain"},{"chart_rank":96,"danceability":0.573,"region":"Spain"},{"chart_rank":97,"danceability":0.605,"region":"Spain"},{"chart_rank":98,"danceability":0.754,"region":"Spain"},{"chart_rank":99,"danceability":0.61,"region":"Spain"},{"chart_rank":100,"danceability":0.788,"region":"Spain"},{"chart_rank":101,"danceability":0.566,"region":"Spain"},{"chart_rank":102,"danceability":0.486,"region":"Spain"},{"chart_rank":103,"danceability":0.781,"region":"Spain"},{"chart_rank":104,"danceability":0.609,"region":"Spain"},{"chart_rank":105,"danceability":0.803,"region":"Spain"},{"chart_rank":106,"danceability":0.495,"region":"Spain"},{"chart_rank":107,"danceability":0.314,"region":"Spain"},{"chart_rank":108,"danceability":0.827,"region":"Spain"},{"chart_rank":109,"danceability":0.832,"region":"Spain"},{"chart_rank":110,"danceability":0.49,"region":"Spain"},{"chart_rank":111,"danceability":0.69,"region":"Spain"},{"chart_rank":112,"danceability":0.707,"region":"Spain"},{"chart_rank":113,"danceability":0.733,"region":"Spain"},{"chart_rank":114,"danceability":0.796,"region":"Spain"},{"chart_rank":115,"danceability":0.567,"region":"Spain"},{"chart_rank":116,"danceability":0.692,"region":"Spain"},{"chart_rank":117,"danceability":0.734,"region":"Spain"},{"chart_rank":118,"danceability":0.631,"region":"Spain"},{"chart_rank":119,"danceability":0.654,"region":"Spain"},{"chart_rank":120,"danceability":0.769,"region":"Spain"},{"chart_rank":121,"danceability":0.777,"region":"Spain"},{"chart_rank":122,"danceability":0.423,"region":"Spain"},{"chart_rank":123,"danceability":0.806,"region":"Spain"},{"chart_rank":124,"danceability":0.627,"region":"Spain"},{"chart_rank":125,"danceability":0.695,"region":"Spain"},{"chart_rank":126,"danceability":0.765,"region":"Spain"},{"chart_rank":127,"danceability":0.636,"region":"Spain"},{"chart_rank":128,"danceability":0.742,"region":"Spain"},{"chart_rank":129,"danceability":0.746,"region":"Spain"},{"chart_rank":130,"danceability":0.644,"region":"Spain"},{"chart_rank":131,"danceability":0.72,"region":"Spain"},{"chart_rank":132,"danceability":0.774,"region":"Spain"},{"chart_rank":133,"danceability":0.81,"region":"Spain"},{"chart_rank":134,"danceability":0.926,"region":"Spain"},{"chart_rank":135,"danceability":0.531,"region":"Spain"},{"chart_rank":136,"danceability":0.596,"region":"Spain"},{"chart_rank":137,"danceability":0.671,"region":"Spain"},{"chart_rank":138,"danceability":0.671,"region":"Spain"},{"chart_rank":139,"danceability":0.815,"region":"Spain"},{"chart_rank":140,"danceability":0.793,"region":"Spain"},{"chart_rank":141,"danceability":0.698,"region":"Spain"},{"chart_rank":142,"danceability":0.835,"region":"Spain"},{"chart_rank":143,"danceability":0.719,"region":"Spain"},{"chart_rank":144,"danceability":0.797,"region":"Spain"},{"chart_rank":145,"danceability":0.638,"region":"Spain"},{"chart_rank":146,"danceability":0.774,"region":"Spain"},{"chart_rank":147,"danceability":0.748,"region":"Spain"},{"chart_rank":148,"danceability":0.676,"region":"Spain"},{"chart_rank":149,"danceability":0.485,"region":"Spain"},{"chart_rank":150,"danceability":0.658,"region":"Spain"},{"chart_rank":151,"danceability":0.838,"region":"Spain"},{"chart_rank":152,"danceability":0.793,"region":"Spain"},{"chart_rank":153,"danceability":0.61,"region":"Spain"},{"chart_rank":154,"danceability":0.803,"region":"Spain"},{"chart_rank":155,"danceability":0.749,"region":"Spain"},{"chart_rank":156,"danceability":0.822,"region":"Spain"},{"chart_rank":157,"danceability":0.748,"region":"Spain"},{"chart_rank":158,"danceability":0.849,"region":"Spain"},{"chart_rank":159,"danceability":0.793,"region":"Spain"},{"chart_rank":160,"danceability":0.562,"region":"Spain"},{"chart_rank":161,"danceability":0.654,"region":"Spain"},{"chart_rank":162,"danceability":0.621,"region":"Spain"},{"chart_rank":163,"danceability":0.725,"region":"Spain"},{"chart_rank":164,"danceability":0.459,"region":"Spain"},{"chart_rank":165,"danceability":0.773,"region":"Spain"},{"chart_rank":166,"danceability":0.694,"region":"Spain"},{"chart_rank":167,"danceability":0.491,"region":"Spain"},{"chart_rank":168,"danceability":0.481,"region":"Spain"},{"chart_rank":169,"danceability":0.703,"region":"Spain"},{"chart_rank":170,"danceability":0.721,"region":"Spain"},{"chart_rank":171,"danceability":0.505,"region":"Spain"},{"chart_rank":172,"danceability":0.886,"region":"Spain"},{"chart_rank":173,"danceability":0.609,"region":"Spain"},{"chart_rank":174,"danceability":0.672,"region":"Spain"},{"chart_rank":175,"danceability":0.736,"region":"Spain"},{"chart_rank":176,"danceability":0.77,"region":"Spain"},{"chart_rank":177,"danceability":0.713,"region":"Spain"},{"chart_rank":178,"danceability":0.773,"region":"Spain"},{"chart_rank":179,"danceability":0.763,"region":"Spain"},{"chart_rank":180,"danceability":0.641,"region":"Spain"},{"chart_rank":181,"danceability":0.818,"region":"Spain"},{"chart_rank":182,"danceability":0.573,"region":"Spain"},{"chart_rank":183,"danceability":0.783,"region":"Spain"},{"chart_rank":184,"danceability":0.865,"region":"Spain"},{"chart_rank":185,"danceability":0.493,"region":"Spain"},{"chart_rank":186,"danceability":0.64,"region":"Spain"},{"chart_rank":187,"danceability":0.422,"region":"Spain"},{"chart_rank":188,"danceability":0.6,"region":"Spain"},{"chart_rank":189,"danceability":0.738,"region":"Spain"},{"chart_rank":190,"danceability":0.642,"region":"Spain"},{"chart_rank":191,"danceability":0.774,"region":"Spain"},{"chart_rank":192,"danceability":0.557,"region":"Spain"},{"chart_rank":193,"danceability":0.367,"region":"Spain"},{"chart_rank":194,"danceability":0.581,"region":"Spain"},{"chart_rank":195,"danceability":0.861,"region":"Spain"},{"chart_rank":196,"danceability":0.492,"region":"Spain"},{"chart_rank":197,"danceability":0.632,"region":"Spain"},{"chart_rank":198,"danceability":0.811,"region":"Spain"},{"chart_rank":199,"danceability":0.344,"region":"Spain"},{"chart_rank":200,"danceability":0.945,"region":"Spain"},{"chart_rank":1,"danceability":0.825,"region":"Sweden"},{"chart_rank":2,"danceability":0.461,"region":"Sweden"},{"chart_rank":3,"danceability":0.72,"region":"Sweden"},{"chart_rank":4,"danceability":0.735,"region":"Sweden"},{"chart_rank":5,"danceability":0.676,"region":"Sweden"},{"chart_rank":6,"danceability":0.67,"region":"Sweden"},{"chart_rank":7,"danceability":0.358,"region":"Sweden"},{"chart_rank":8,"danceability":0.744,"region":"Sweden"},{"chart_rank":9,"danceability":0.681,"region":"Sweden"},{"chart_rank":10,"danceability":0.773,"region":"Sweden"},{"chart_rank":11,"danceability":0.778,"region":"Sweden"},{"chart_rank":12,"danceability":0.788,"region":"Sweden"},{"chart_rank":13,"danceability":0.781,"region":"Sweden"},{"chart_rank":14,"danceability":0.476,"region":"Sweden"},{"chart_rank":15,"danceability":0.748,"region":"Sweden"},{"chart_rank":16,"danceability":0.486,"region":"Sweden"},{"chart_rank":17,"danceability":0.322,"region":"Sweden"},{"chart_rank":18,"danceability":0.563,"region":"Sweden"},{"chart_rank":19,"danceability":0.647,"region":"Sweden"},{"chart_rank":20,"danceability":0.794,"region":"Sweden"},{"chart_rank":21,"danceability":0.783,"region":"Sweden"},{"chart_rank":22,"danceability":0.588,"region":"Sweden"},{"chart_rank":23,"danceability":0.811,"region":"Sweden"},{"chart_rank":24,"danceability":0.622,"region":"Sweden"},{"chart_rank":25,"danceability":0.573,"region":"Sweden"},{"chart_rank":26,"danceability":0.542,"region":"Sweden"},{"chart_rank":27,"danceability":0.68,"region":"Sweden"},{"chart_rank":28,"danceability":0.609,"region":"Sweden"},{"chart_rank":29,"danceability":0.595,"region":"Sweden"},{"chart_rank":30,"danceability":0.561,"region":"Sweden"},{"chart_rank":31,"danceability":0.648,"region":"Sweden"},{"chart_rank":32,"danceability":0.608,"region":"Sweden"},{"chart_rank":33,"danceability":0.462,"region":"Sweden"},{"chart_rank":34,"danceability":0.928,"region":"Sweden"},{"chart_rank":35,"danceability":0.666,"region":"Sweden"},{"chart_rank":36,"danceability":0.762,"region":"Sweden"},{"chart_rank":37,"danceability":0.791,"region":"Sweden"},{"chart_rank":38,"danceability":0.469,"region":"Sweden"},{"chart_rank":39,"danceability":0.773,"region":"Sweden"},{"chart_rank":40,"danceability":0.483,"region":"Sweden"},{"chart_rank":41,"danceability":0.818,"region":"Sweden"},{"chart_rank":42,"danceability":0.608,"region":"Sweden"},{"chart_rank":43,"danceability":0.679,"region":"Sweden"},{"chart_rank":44,"danceability":0.662,"region":"Sweden"},{"chart_rank":45,"danceability":0.721,"region":"Sweden"},{"chart_rank":46,"danceability":0.737,"region":"Sweden"},{"chart_rank":47,"danceability":0.632,"region":"Sweden"},{"chart_rank":48,"danceability":0.648,"region":"Sweden"},{"chart_rank":49,"danceability":0.636,"region":"Sweden"},{"chart_rank":50,"danceability":0.422,"region":"Sweden"},{"chart_rank":51,"danceability":0.576,"region":"Sweden"},{"chart_rank":52,"danceability":0.614,"region":"Sweden"},{"chart_rank":53,"danceability":0.779,"region":"Sweden"},{"chart_rank":54,"danceability":0.697,"region":"Sweden"},{"chart_rank":55,"danceability":0.852,"region":"Sweden"},{"chart_rank":56,"danceability":0.562,"region":"Sweden"},{"chart_rank":57,"danceability":0.926,"region":"Sweden"},{"chart_rank":58,"danceability":0.49,"region":"Sweden"},{"chart_rank":59,"danceability":0.663,"region":"Sweden"},{"chart_rank":60,"danceability":0.564,"region":"Sweden"},{"chart_rank":61,"danceability":0.628,"region":"Sweden"},{"chart_rank":62,"danceability":0.624,"region":"Sweden"},{"chart_rank":63,"danceability":0.542,"region":"Sweden"},{"chart_rank":64,"danceability":0.732,"region":"Sweden"},{"chart_rank":65,"danceability":0.706,"region":"Sweden"},{"chart_rank":66,"danceability":0.533,"region":"Sweden"},{"chart_rank":67,"danceability":0.589,"region":"Sweden"},{"chart_rank":68,"danceability":0.675,"region":"Sweden"},{"chart_rank":69,"danceability":0.781,"region":"Sweden"},{"chart_rank":70,"danceability":0.742,"region":"Sweden"},{"chart_rank":71,"danceability":0.818,"region":"Sweden"},{"chart_rank":72,"danceability":0.381,"region":"Sweden"},{"chart_rank":73,"danceability":0.34,"region":"Sweden"},{"chart_rank":74,"danceability":0.636,"region":"Sweden"},{"chart_rank":75,"danceability":0.623,"region":"Sweden"},{"chart_rank":76,"danceability":0.687,"region":"Sweden"},{"chart_rank":77,"danceability":0.495,"region":"Sweden"},{"chart_rank":78,"danceability":0.642,"region":"Sweden"},{"chart_rank":79,"danceability":0.649,"region":"Sweden"},{"chart_rank":80,"danceability":0.755,"region":"Sweden"},{"chart_rank":81,"danceability":0.663,"region":"Sweden"},{"chart_rank":82,"danceability":0.314,"region":"Sweden"},{"chart_rank":83,"danceability":0.481,"region":"Sweden"},{"chart_rank":84,"danceability":0.668,"region":"Sweden"},{"chart_rank":85,"danceability":0.675,"region":"Sweden"},{"chart_rank":86,"danceability":0.728,"region":"Sweden"},{"chart_rank":87,"danceability":0.581,"region":"Sweden"},{"chart_rank":88,"danceability":0.707,"region":"Sweden"},{"chart_rank":89,"danceability":0.609,"region":"Sweden"},{"chart_rank":90,"danceability":0.225,"region":"Sweden"},{"chart_rank":91,"danceability":0.64,"region":"Sweden"},{"chart_rank":92,"danceability":0.26,"region":"Sweden"},{"chart_rank":93,"danceability":0.602,"region":"Sweden"},{"chart_rank":94,"danceability":0.576,"region":"Sweden"},{"chart_rank":95,"danceability":0.653,"region":"Sweden"},{"chart_rank":96,"danceability":0.586,"region":"Sweden"},{"chart_rank":97,"danceability":0.513,"region":"Sweden"},{"chart_rank":98,"danceability":0.72,"region":"Sweden"},{"chart_rank":99,"danceability":0.403,"region":"Sweden"},{"chart_rank":100,"danceability":0.569,"region":"Sweden"},{"chart_rank":101,"danceability":0.774,"region":"Sweden"},{"chart_rank":102,"danceability":0.596,"region":"Sweden"},{"chart_rank":103,"danceability":0.657,"region":"Sweden"},{"chart_rank":104,"danceability":0.405,"region":"Sweden"},{"chart_rank":105,"danceability":0.626,"region":"Sweden"},{"chart_rank":106,"danceability":0.491,"region":"Sweden"},{"chart_rank":107,"danceability":0.5,"region":"Sweden"},{"chart_rank":108,"danceability":0.742,"region":"Sweden"},{"chart_rank":109,"danceability":0.566,"region":"Sweden"},{"chart_rank":110,"danceability":0.643,"region":"Sweden"},{"chart_rank":111,"danceability":0.695,"region":"Sweden"},{"chart_rank":112,"danceability":0.322,"region":"Sweden"},{"chart_rank":113,"danceability":0.432,"region":"Sweden"},{"chart_rank":114,"danceability":0.77,"region":"Sweden"},{"chart_rank":115,"danceability":0.459,"region":"Sweden"},{"chart_rank":116,"danceability":0.654,"region":"Sweden"},{"chart_rank":117,"danceability":0.746,"region":"Sweden"},{"chart_rank":118,"danceability":0.696,"region":"Sweden"},{"chart_rank":119,"danceability":0.51,"region":"Sweden"},{"chart_rank":120,"danceability":0.69,"region":"Sweden"},{"chart_rank":121,"danceability":0.694,"region":"Sweden"},{"chart_rank":122,"danceability":0.631,"region":"Sweden"},{"chart_rank":123,"danceability":0.671,"region":"Sweden"},{"chart_rank":124,"danceability":0.86,"region":"Sweden"},{"chart_rank":125,"danceability":0.803,"region":"Sweden"},{"chart_rank":126,"danceability":0.827,"region":"Sweden"},{"chart_rank":127,"danceability":0.479,"region":"Sweden"},{"chart_rank":128,"danceability":0.367,"region":"Sweden"},{"chart_rank":129,"danceability":0.385,"region":"Sweden"},{"chart_rank":130,"danceability":0.793,"region":"Sweden"},{"chart_rank":131,"danceability":0.744,"region":"Sweden"},{"chart_rank":132,"danceability":0.573,"region":"Sweden"},{"chart_rank":133,"danceability":0.735,"region":"Sweden"},{"chart_rank":134,"danceability":0.661,"region":"Sweden"},{"chart_rank":135,"danceability":0.806,"region":"Sweden"},{"chart_rank":136,"danceability":0.562,"region":"Sweden"},{"chart_rank":137,"danceability":0.886,"region":"Sweden"},{"chart_rank":138,"danceability":0.916,"region":"Sweden"},{"chart_rank":139,"danceability":0.69,"region":"Sweden"},{"chart_rank":140,"danceability":0.734,"region":"Sweden"},{"chart_rank":141,"danceability":0.668,"region":"Sweden"},{"chart_rank":142,"danceability":0.67,"region":"Sweden"},{"chart_rank":143,"danceability":0.519,"region":"Sweden"},{"chart_rank":144,"danceability":0.526,"region":"Sweden"},{"chart_rank":145,"danceability":0.671,"region":"Sweden"},{"chart_rank":146,"danceability":0.483,"region":"Sweden"},{"chart_rank":147,"danceability":0.251,"region":"Sweden"},{"chart_rank":148,"danceability":0.688,"region":"Sweden"},{"chart_rank":149,"danceability":0.724,"region":"Sweden"},{"chart_rank":150,"danceability":0.721,"region":"Sweden"},{"chart_rank":151,"danceability":0.803,"region":"Sweden"},{"chart_rank":152,"danceability":0.728,"region":"Sweden"},{"chart_rank":153,"danceability":0.595,"region":"Sweden"},{"chart_rank":154,"danceability":0.356,"region":"Sweden"},{"chart_rank":155,"danceability":0.53,"region":"Sweden"},{"chart_rank":156,"danceability":0.804,"region":"Sweden"},{"chart_rank":157,"danceability":0.502,"region":"Sweden"},{"chart_rank":158,"danceability":0.683,"region":"Sweden"},{"chart_rank":159,"danceability":0.695,"region":"Sweden"},{"chart_rank":160,"danceability":0.685,"region":"Sweden"},{"chart_rank":161,"danceability":0.4,"region":"Sweden"},{"chart_rank":162,"danceability":0.488,"region":"Sweden"},{"chart_rank":163,"danceability":0.389,"region":"Sweden"},{"chart_rank":164,"danceability":0.692,"region":"Sweden"},{"chart_rank":165,"danceability":0.492,"region":"Sweden"},{"chart_rank":166,"danceability":0.657,"region":"Sweden"},{"chart_rank":167,"danceability":0.725,"region":"Sweden"},{"chart_rank":168,"danceability":0.689,"region":"Sweden"},{"chart_rank":169,"danceability":0.559,"region":"Sweden"},{"chart_rank":170,"danceability":0.756,"region":"Sweden"},{"chart_rank":171,"danceability":0.807,"region":"Sweden"},{"chart_rank":172,"danceability":0.506,"region":"Sweden"},{"chart_rank":173,"danceability":0.546,"region":"Sweden"},{"chart_rank":174,"danceability":0.731,"region":"Sweden"},{"chart_rank":175,"danceability":0.694,"region":"Sweden"},{"chart_rank":176,"danceability":0.636,"region":"Sweden"},{"chart_rank":177,"danceability":0.505,"region":"Sweden"},{"chart_rank":178,"danceability":0.68,"region":"Sweden"},{"chart_rank":179,"danceability":0.766,"region":"Sweden"},{"chart_rank":180,"danceability":0.876,"region":"Sweden"},{"chart_rank":181,"danceability":0.735,"region":"Sweden"},{"chart_rank":182,"danceability":0.55,"region":"Sweden"},{"chart_rank":183,"danceability":0.861,"region":"Sweden"},{"chart_rank":184,"danceability":0.552,"region":"Sweden"},{"chart_rank":185,"danceability":0.509,"region":"Sweden"},{"chart_rank":186,"danceability":0.632,"region":"Sweden"},{"chart_rank":187,"danceability":0.669,"region":"Sweden"},{"chart_rank":188,"danceability":0.702,"region":"Sweden"},{"chart_rank":189,"danceability":0.823,"region":"Sweden"},{"chart_rank":190,"danceability":0.422,"region":"Sweden"},{"chart_rank":191,"danceability":0.588,"region":"Sweden"},{"chart_rank":192,"danceability":0.591,"region":"Sweden"},{"chart_rank":193,"danceability":0.738,"region":"Sweden"},{"chart_rank":194,"danceability":0.551,"region":"Sweden"},{"chart_rank":195,"danceability":0.845,"region":"Sweden"},{"chart_rank":196,"danceability":0.72,"region":"Sweden"},{"chart_rank":197,"danceability":0.617,"region":"Sweden"},{"chart_rank":198,"danceability":0.716,"region":"Sweden"},{"chart_rank":199,"danceability":0.495,"region":"Sweden"},{"chart_rank":200,"danceability":0.706,"region":"Sweden"},{"chart_rank":1,"danceability":0.825,"region":"Sweden"},{"chart_rank":2,"danceability":0.461,"region":"Sweden"},{"chart_rank":3,"danceability":0.735,"region":"Sweden"},{"chart_rank":4,"danceability":0.72,"region":"Sweden"},{"chart_rank":5,"danceability":0.676,"region":"Sweden"},{"chart_rank":6,"danceability":0.358,"region":"Sweden"},{"chart_rank":7,"danceability":0.67,"region":"Sweden"},{"chart_rank":8,"danceability":0.744,"region":"Sweden"},{"chart_rank":9,"danceability":0.681,"region":"Sweden"},{"chart_rank":10,"danceability":0.778,"region":"Sweden"},{"chart_rank":11,"danceability":0.773,"region":"Sweden"},{"chart_rank":12,"danceability":0.788,"region":"Sweden"},{"chart_rank":13,"danceability":0.781,"region":"Sweden"},{"chart_rank":14,"danceability":0.486,"region":"Sweden"},{"chart_rank":15,"danceability":0.476,"region":"Sweden"},{"chart_rank":16,"danceability":0.748,"region":"Sweden"},{"chart_rank":17,"danceability":0.563,"region":"Sweden"},{"chart_rank":18,"danceability":0.322,"region":"Sweden"},{"chart_rank":19,"danceability":0.647,"region":"Sweden"},{"chart_rank":20,"danceability":0.783,"region":"Sweden"},{"chart_rank":21,"danceability":0.794,"region":"Sweden"},{"chart_rank":22,"danceability":0.588,"region":"Sweden"},{"chart_rank":23,"danceability":0.622,"region":"Sweden"},{"chart_rank":24,"danceability":0.68,"region":"Sweden"},{"chart_rank":25,"danceability":0.573,"region":"Sweden"},{"chart_rank":26,"danceability":0.811,"region":"Sweden"},{"chart_rank":27,"danceability":0.595,"region":"Sweden"},{"chart_rank":28,"danceability":0.608,"region":"Sweden"},{"chart_rank":29,"danceability":0.609,"region":"Sweden"},{"chart_rank":30,"danceability":0.542,"region":"Sweden"},{"chart_rank":31,"danceability":0.469,"region":"Sweden"},{"chart_rank":32,"danceability":0.928,"region":"Sweden"},{"chart_rank":33,"danceability":0.462,"region":"Sweden"},{"chart_rank":34,"danceability":0.422,"region":"Sweden"},{"chart_rank":35,"danceability":0.561,"region":"Sweden"},{"chart_rank":36,"danceability":0.648,"region":"Sweden"},{"chart_rank":37,"danceability":0.762,"region":"Sweden"},{"chart_rank":38,"danceability":0.773,"region":"Sweden"},{"chart_rank":39,"danceability":0.666,"region":"Sweden"},{"chart_rank":40,"danceability":0.483,"region":"Sweden"},{"chart_rank":41,"danceability":0.791,"region":"Sweden"},{"chart_rank":42,"danceability":0.662,"region":"Sweden"},{"chart_rank":43,"danceability":0.679,"region":"Sweden"},{"chart_rank":44,"danceability":0.608,"region":"Sweden"},{"chart_rank":45,"danceability":0.818,"region":"Sweden"},{"chart_rank":46,"danceability":0.636,"region":"Sweden"},{"chart_rank":47,"danceability":0.648,"region":"Sweden"},{"chart_rank":48,"danceability":0.737,"region":"Sweden"},{"chart_rank":49,"danceability":0.632,"region":"Sweden"},{"chart_rank":50,"danceability":0.721,"region":"Sweden"},{"chart_rank":51,"danceability":0.614,"region":"Sweden"},{"chart_rank":52,"danceability":0.697,"region":"Sweden"},{"chart_rank":53,"danceability":0.852,"region":"Sweden"},{"chart_rank":54,"danceability":0.576,"region":"Sweden"},{"chart_rank":55,"danceability":0.779,"region":"Sweden"},{"chart_rank":56,"danceability":0.49,"region":"Sweden"},{"chart_rank":57,"danceability":0.926,"region":"Sweden"},{"chart_rank":58,"danceability":0.562,"region":"Sweden"},{"chart_rank":59,"danceability":0.624,"region":"Sweden"},{"chart_rank":60,"danceability":0.732,"region":"Sweden"},{"chart_rank":61,"danceability":0.706,"region":"Sweden"},{"chart_rank":62,"danceability":0.687,"region":"Sweden"},{"chart_rank":63,"danceability":0.781,"region":"Sweden"},{"chart_rank":64,"danceability":0.628,"region":"Sweden"},{"chart_rank":65,"danceability":0.381,"region":"Sweden"},{"chart_rank":66,"danceability":0.589,"region":"Sweden"},{"chart_rank":67,"danceability":0.564,"region":"Sweden"},{"chart_rank":68,"danceability":0.542,"region":"Sweden"},{"chart_rank":69,"danceability":0.742,"region":"Sweden"},{"chart_rank":70,"danceability":0.663,"region":"Sweden"},{"chart_rank":71,"danceability":0.675,"region":"Sweden"},{"chart_rank":72,"danceability":0.533,"region":"Sweden"},{"chart_rank":73,"danceability":0.642,"region":"Sweden"},{"chart_rank":74,"danceability":0.586,"region":"Sweden"},{"chart_rank":75,"danceability":0.314,"region":"Sweden"},{"chart_rank":76,"danceability":0.818,"region":"Sweden"},{"chart_rank":77,"danceability":0.623,"region":"Sweden"},{"chart_rank":78,"danceability":0.495,"region":"Sweden"},{"chart_rank":79,"danceability":0.34,"region":"Sweden"},{"chart_rank":80,"danceability":0.728,"region":"Sweden"},{"chart_rank":81,"danceability":0.581,"region":"Sweden"},{"chart_rank":82,"danceability":0.636,"region":"Sweden"},{"chart_rank":83,"danceability":0.649,"region":"Sweden"},{"chart_rank":84,"danceability":0.609,"region":"Sweden"},{"chart_rank":85,"danceability":0.481,"region":"Sweden"},{"chart_rank":86,"danceability":0.663,"region":"Sweden"},{"chart_rank":87,"danceability":0.675,"region":"Sweden"},{"chart_rank":88,"danceability":0.602,"region":"Sweden"},{"chart_rank":89,"danceability":0.513,"region":"Sweden"},{"chart_rank":90,"danceability":0.668,"region":"Sweden"},{"chart_rank":91,"danceability":0.653,"region":"Sweden"},{"chart_rank":92,"danceability":0.596,"region":"Sweden"},{"chart_rank":93,"danceability":0.755,"region":"Sweden"},{"chart_rank":94,"danceability":0.707,"region":"Sweden"},{"chart_rank":95,"danceability":0.72,"region":"Sweden"},{"chart_rank":96,"danceability":0.403,"region":"Sweden"},{"chart_rank":97,"danceability":0.64,"region":"Sweden"},{"chart_rank":98,"danceability":0.225,"region":"Sweden"},{"chart_rank":99,"danceability":0.576,"region":"Sweden"},{"chart_rank":100,"danceability":0.26,"region":"Sweden"},{"chart_rank":101,"danceability":0.742,"region":"Sweden"},{"chart_rank":102,"danceability":0.491,"region":"Sweden"},{"chart_rank":103,"danceability":0.385,"region":"Sweden"},{"chart_rank":104,"danceability":0.668,"region":"Sweden"},{"chart_rank":105,"danceability":0.657,"region":"Sweden"},{"chart_rank":106,"danceability":0.479,"region":"Sweden"},{"chart_rank":107,"danceability":0.459,"region":"Sweden"},{"chart_rank":108,"danceability":0.86,"region":"Sweden"},{"chart_rank":109,"danceability":0.405,"region":"Sweden"},{"chart_rank":110,"danceability":0.774,"region":"Sweden"},{"chart_rank":111,"danceability":0.51,"region":"Sweden"},{"chart_rank":112,"danceability":0.696,"region":"Sweden"},{"chart_rank":113,"danceability":0.432,"region":"Sweden"},{"chart_rank":114,"danceability":0.695,"region":"Sweden"},{"chart_rank":115,"danceability":0.643,"region":"Sweden"},{"chart_rank":116,"danceability":0.322,"region":"Sweden"},{"chart_rank":117,"danceability":0.566,"region":"Sweden"},{"chart_rank":118,"danceability":0.654,"region":"Sweden"},{"chart_rank":119,"danceability":0.389,"region":"Sweden"},{"chart_rank":120,"danceability":0.689,"region":"Sweden"},{"chart_rank":121,"danceability":0.631,"region":"Sweden"},{"chart_rank":122,"danceability":0.77,"region":"Sweden"},{"chart_rank":123,"danceability":0.569,"region":"Sweden"},{"chart_rank":124,"danceability":0.916,"region":"Sweden"},{"chart_rank":125,"danceability":0.251,"region":"Sweden"},{"chart_rank":126,"danceability":0.744,"region":"Sweden"},{"chart_rank":127,"danceability":0.728,"region":"Sweden"},{"chart_rank":128,"danceability":0.803,"region":"Sweden"},{"chart_rank":129,"danceability":0.806,"region":"Sweden"},{"chart_rank":130,"danceability":0.573,"region":"Sweden"},{"chart_rank":131,"danceability":0.694,"region":"Sweden"},{"chart_rank":132,"danceability":0.886,"region":"Sweden"},{"chart_rank":133,"danceability":0.562,"region":"Sweden"},{"chart_rank":134,"danceability":0.69,"region":"Sweden"},{"chart_rank":135,"danceability":0.526,"region":"Sweden"},{"chart_rank":136,"danceability":0.746,"region":"Sweden"},{"chart_rank":137,"danceability":0.367,"region":"Sweden"},{"chart_rank":138,"danceability":0.734,"region":"Sweden"},{"chart_rank":139,"danceability":0.735,"region":"Sweden"},{"chart_rank":140,"danceability":0.492,"region":"Sweden"},{"chart_rank":141,"danceability":0.827,"region":"Sweden"},{"chart_rank":142,"danceability":0.661,"region":"Sweden"},{"chart_rank":143,"danceability":0.502,"region":"Sweden"},{"chart_rank":144,"danceability":0.356,"region":"Sweden"},{"chart_rank":145,"danceability":0.671,"region":"Sweden"},{"chart_rank":146,"danceability":0.683,"region":"Sweden"},{"chart_rank":147,"danceability":0.53,"region":"Sweden"},{"chart_rank":148,"danceability":0.692,"region":"Sweden"},{"chart_rank":149,"danceability":0.483,"region":"Sweden"},{"chart_rank":150,"danceability":0.793,"region":"Sweden"},{"chart_rank":151,"danceability":0.641,"region":"Sweden"},{"chart_rank":152,"danceability":0.69,"region":"Sweden"},{"chart_rank":153,"danceability":0.519,"region":"Sweden"},{"chart_rank":154,"danceability":0.671,"region":"Sweden"},{"chart_rank":155,"danceability":0.803,"region":"Sweden"},{"chart_rank":156,"danceability":0.67,"region":"Sweden"},{"chart_rank":157,"danceability":0.804,"region":"Sweden"},{"chart_rank":158,"danceability":0.591,"region":"Sweden"},{"chart_rank":159,"danceability":0.695,"region":"Sweden"},{"chart_rank":160,"danceability":0.756,"region":"Sweden"},{"chart_rank":161,"danceability":0.657,"region":"Sweden"},{"chart_rank":162,"danceability":0.807,"region":"Sweden"},{"chart_rank":163,"danceability":0.5,"region":"Sweden"},{"chart_rank":164,"danceability":0.546,"region":"Sweden"},{"chart_rank":165,"danceability":0.735,"region":"Sweden"},{"chart_rank":166,"danceability":0.595,"region":"Sweden"},{"chart_rank":167,"danceability":0.559,"region":"Sweden"},{"chart_rank":168,"danceability":0.626,"region":"Sweden"},{"chart_rank":169,"danceability":0.823,"region":"Sweden"},{"chart_rank":170,"danceability":0.724,"region":"Sweden"},{"chart_rank":171,"danceability":0.488,"region":"Sweden"},{"chart_rank":172,"danceability":0.509,"region":"Sweden"},{"chart_rank":173,"danceability":0.685,"region":"Sweden"},{"chart_rank":174,"danceability":0.551,"region":"Sweden"},{"chart_rank":175,"danceability":0.636,"region":"Sweden"},{"chart_rank":176,"danceability":0.68,"region":"Sweden"},{"chart_rank":177,"danceability":0.721,"region":"Sweden"},{"chart_rank":178,"danceability":0.876,"region":"Sweden"},{"chart_rank":179,"danceability":0.688,"region":"Sweden"},{"chart_rank":180,"danceability":0.55,"region":"Sweden"},{"chart_rank":181,"danceability":0.617,"region":"Sweden"},{"chart_rank":182,"danceability":0.7,"region":"Sweden"},{"chart_rank":183,"danceability":0.374,"region":"Sweden"},{"chart_rank":184,"danceability":0.422,"region":"Sweden"},{"chart_rank":185,"danceability":0.706,"region":"Sweden"},{"chart_rank":186,"danceability":0.6,"region":"Sweden"},{"chart_rank":187,"danceability":0.766,"region":"Sweden"},{"chart_rank":188,"danceability":0.751,"region":"Sweden"},{"chart_rank":189,"danceability":0.662,"region":"Sweden"},{"chart_rank":190,"danceability":0.789,"region":"Sweden"},{"chart_rank":191,"danceability":0.689,"region":"Sweden"},{"chart_rank":192,"danceability":0.552,"region":"Sweden"},{"chart_rank":193,"danceability":0.446,"region":"Sweden"},{"chart_rank":194,"danceability":0.669,"region":"Sweden"},{"chart_rank":195,"danceability":0.68,"region":"Sweden"},{"chart_rank":196,"danceability":0.694,"region":"Sweden"},{"chart_rank":197,"danceability":0.505,"region":"Sweden"},{"chart_rank":198,"danceability":0.6,"region":"Sweden"},{"chart_rank":199,"danceability":0.648,"region":"Sweden"},{"chart_rank":200,"danceability":0.725,"region":"Sweden"},{"chart_rank":1,"danceability":0.825,"region":"Sweden"},{"chart_rank":2,"danceability":0.461,"region":"Sweden"},{"chart_rank":3,"danceability":0.735,"region":"Sweden"},{"chart_rank":4,"danceability":0.72,"region":"Sweden"},{"chart_rank":5,"danceability":0.676,"region":"Sweden"},{"chart_rank":6,"danceability":0.358,"region":"Sweden"},{"chart_rank":7,"danceability":0.67,"region":"Sweden"},{"chart_rank":8,"danceability":0.744,"region":"Sweden"},{"chart_rank":9,"danceability":0.778,"region":"Sweden"},{"chart_rank":10,"danceability":0.681,"region":"Sweden"},{"chart_rank":11,"danceability":0.773,"region":"Sweden"},{"chart_rank":12,"danceability":0.788,"region":"Sweden"},{"chart_rank":13,"danceability":0.781,"region":"Sweden"},{"chart_rank":14,"danceability":0.486,"region":"Sweden"},{"chart_rank":15,"danceability":0.748,"region":"Sweden"},{"chart_rank":16,"danceability":0.563,"region":"Sweden"},{"chart_rank":17,"danceability":0.322,"region":"Sweden"},{"chart_rank":18,"danceability":0.476,"region":"Sweden"},{"chart_rank":19,"danceability":0.647,"region":"Sweden"},{"chart_rank":20,"danceability":0.588,"region":"Sweden"},{"chart_rank":21,"danceability":0.783,"region":"Sweden"},{"chart_rank":22,"danceability":0.794,"region":"Sweden"},{"chart_rank":23,"danceability":0.622,"region":"Sweden"},{"chart_rank":24,"danceability":0.573,"region":"Sweden"},{"chart_rank":25,"danceability":0.68,"region":"Sweden"},{"chart_rank":26,"danceability":0.422,"region":"Sweden"},{"chart_rank":27,"danceability":0.811,"region":"Sweden"},{"chart_rank":28,"danceability":0.609,"region":"Sweden"},{"chart_rank":29,"danceability":0.462,"region":"Sweden"},{"chart_rank":30,"danceability":0.595,"region":"Sweden"},{"chart_rank":31,"danceability":0.542,"region":"Sweden"},{"chart_rank":32,"danceability":0.561,"region":"Sweden"},{"chart_rank":33,"danceability":0.928,"region":"Sweden"},{"chart_rank":34,"danceability":0.608,"region":"Sweden"},{"chart_rank":35,"danceability":0.469,"region":"Sweden"},{"chart_rank":36,"danceability":0.762,"region":"Sweden"},{"chart_rank":37,"danceability":0.648,"region":"Sweden"},{"chart_rank":38,"danceability":0.483,"region":"Sweden"},{"chart_rank":39,"danceability":0.666,"region":"Sweden"},{"chart_rank":40,"danceability":0.773,"region":"Sweden"},{"chart_rank":41,"danceability":0.791,"region":"Sweden"},{"chart_rank":42,"danceability":0.662,"region":"Sweden"},{"chart_rank":43,"danceability":0.608,"region":"Sweden"},{"chart_rank":44,"danceability":0.818,"region":"Sweden"},{"chart_rank":45,"danceability":0.636,"region":"Sweden"},{"chart_rank":46,"danceability":0.648,"region":"Sweden"},{"chart_rank":47,"danceability":0.721,"region":"Sweden"},{"chart_rank":48,"danceability":0.632,"region":"Sweden"},{"chart_rank":49,"danceability":0.737,"region":"Sweden"},{"chart_rank":50,"danceability":0.679,"region":"Sweden"},{"chart_rank":51,"danceability":0.614,"region":"Sweden"},{"chart_rank":52,"danceability":0.852,"region":"Sweden"},{"chart_rank":53,"danceability":0.926,"region":"Sweden"},{"chart_rank":54,"danceability":0.697,"region":"Sweden"},{"chart_rank":55,"danceability":0.49,"region":"Sweden"},{"chart_rank":56,"danceability":0.779,"region":"Sweden"},{"chart_rank":57,"danceability":0.576,"region":"Sweden"},{"chart_rank":58,"danceability":0.663,"region":"Sweden"},{"chart_rank":59,"danceability":0.624,"region":"Sweden"},{"chart_rank":60,"danceability":0.533,"region":"Sweden"},{"chart_rank":61,"danceability":0.732,"region":"Sweden"},{"chart_rank":62,"danceability":0.495,"region":"Sweden"},{"chart_rank":63,"danceability":0.628,"region":"Sweden"},{"chart_rank":64,"danceability":0.562,"region":"Sweden"},{"chart_rank":65,"danceability":0.706,"region":"Sweden"},{"chart_rank":66,"danceability":0.314,"region":"Sweden"},{"chart_rank":67,"danceability":0.818,"region":"Sweden"},{"chart_rank":68,"danceability":0.542,"region":"Sweden"},{"chart_rank":69,"danceability":0.636,"region":"Sweden"},{"chart_rank":70,"danceability":0.589,"region":"Sweden"},{"chart_rank":71,"danceability":0.781,"region":"Sweden"},{"chart_rank":72,"danceability":0.687,"region":"Sweden"},{"chart_rank":73,"danceability":0.564,"region":"Sweden"},{"chart_rank":74,"danceability":0.742,"region":"Sweden"},{"chart_rank":75,"danceability":0.623,"region":"Sweden"},{"chart_rank":76,"danceability":0.657,"region":"Sweden"},{"chart_rank":77,"danceability":0.602,"region":"Sweden"},{"chart_rank":78,"danceability":0.675,"region":"Sweden"},{"chart_rank":79,"danceability":0.34,"region":"Sweden"},{"chart_rank":80,"danceability":0.381,"region":"Sweden"},{"chart_rank":81,"danceability":0.755,"region":"Sweden"},{"chart_rank":82,"danceability":0.728,"region":"Sweden"},{"chart_rank":83,"danceability":0.668,"region":"Sweden"},{"chart_rank":84,"danceability":0.609,"region":"Sweden"},{"chart_rank":85,"danceability":0.675,"region":"Sweden"},{"chart_rank":86,"danceability":0.581,"region":"Sweden"},{"chart_rank":87,"danceability":0.586,"region":"Sweden"},{"chart_rank":88,"danceability":0.663,"region":"Sweden"},{"chart_rank":89,"danceability":0.64,"region":"Sweden"},{"chart_rank":90,"danceability":0.649,"region":"Sweden"},{"chart_rank":91,"danceability":0.653,"region":"Sweden"},{"chart_rank":92,"danceability":0.642,"region":"Sweden"},{"chart_rank":93,"danceability":0.596,"region":"Sweden"},{"chart_rank":94,"danceability":0.481,"region":"Sweden"},{"chart_rank":95,"danceability":0.707,"region":"Sweden"},{"chart_rank":96,"danceability":0.513,"region":"Sweden"},{"chart_rank":97,"danceability":0.432,"region":"Sweden"},{"chart_rank":98,"danceability":0.491,"region":"Sweden"},{"chart_rank":99,"danceability":0.72,"region":"Sweden"},{"chart_rank":100,"danceability":0.576,"region":"Sweden"},{"chart_rank":101,"danceability":0.225,"region":"Sweden"},{"chart_rank":102,"danceability":0.774,"region":"Sweden"},{"chart_rank":103,"danceability":0.569,"region":"Sweden"},{"chart_rank":104,"danceability":0.405,"region":"Sweden"},{"chart_rank":105,"danceability":0.696,"region":"Sweden"},{"chart_rank":106,"danceability":0.403,"region":"Sweden"},{"chart_rank":107,"danceability":0.26,"region":"Sweden"},{"chart_rank":108,"danceability":0.742,"region":"Sweden"},{"chart_rank":109,"danceability":0.566,"region":"Sweden"},{"chart_rank":110,"danceability":0.322,"region":"Sweden"},{"chart_rank":111,"danceability":0.626,"region":"Sweden"},{"chart_rank":112,"danceability":0.643,"region":"Sweden"},{"chart_rank":113,"danceability":0.459,"region":"Sweden"},{"chart_rank":114,"danceability":0.573,"region":"Sweden"},{"chart_rank":115,"danceability":0.631,"region":"Sweden"},{"chart_rank":116,"danceability":0.51,"region":"Sweden"},{"chart_rank":117,"danceability":0.803,"region":"Sweden"},{"chart_rank":118,"danceability":0.479,"region":"Sweden"},{"chart_rank":119,"danceability":0.654,"region":"Sweden"},{"chart_rank":120,"danceability":0.69,"region":"Sweden"},{"chart_rank":121,"danceability":0.668,"region":"Sweden"},{"chart_rank":122,"danceability":0.728,"region":"Sweden"},{"chart_rank":123,"danceability":0.685,"region":"Sweden"},{"chart_rank":124,"danceability":0.562,"region":"Sweden"},{"chart_rank":125,"danceability":0.356,"region":"Sweden"},{"chart_rank":126,"danceability":0.886,"region":"Sweden"},{"chart_rank":127,"danceability":0.492,"region":"Sweden"},{"chart_rank":128,"danceability":0.744,"region":"Sweden"},{"chart_rank":129,"danceability":0.695,"region":"Sweden"},{"chart_rank":130,"danceability":0.746,"region":"Sweden"},{"chart_rank":131,"danceability":0.793,"region":"Sweden"},{"chart_rank":132,"danceability":0.916,"region":"Sweden"},{"chart_rank":133,"danceability":0.734,"region":"Sweden"},{"chart_rank":134,"danceability":0.502,"region":"Sweden"},{"chart_rank":135,"danceability":0.694,"region":"Sweden"},{"chart_rank":136,"danceability":0.657,"region":"Sweden"},{"chart_rank":137,"danceability":0.519,"region":"Sweden"},{"chart_rank":138,"danceability":0.367,"region":"Sweden"},{"chart_rank":139,"danceability":0.671,"region":"Sweden"},{"chart_rank":140,"danceability":0.692,"region":"Sweden"},{"chart_rank":141,"danceability":0.77,"region":"Sweden"},{"chart_rank":142,"danceability":0.662,"region":"Sweden"},{"chart_rank":143,"danceability":0.683,"region":"Sweden"},{"chart_rank":144,"danceability":0.804,"region":"Sweden"},{"chart_rank":145,"danceability":0.735,"region":"Sweden"},{"chart_rank":146,"danceability":0.385,"region":"Sweden"},{"chart_rank":147,"danceability":0.661,"region":"Sweden"},{"chart_rank":148,"danceability":0.806,"region":"Sweden"},{"chart_rank":149,"danceability":0.86,"region":"Sweden"},{"chart_rank":150,"danceability":0.488,"region":"Sweden"},{"chart_rank":151,"danceability":0.803,"region":"Sweden"},{"chart_rank":152,"danceability":0.827,"region":"Sweden"},{"chart_rank":153,"danceability":0.69,"region":"Sweden"},{"chart_rank":154,"danceability":0.53,"region":"Sweden"},{"chart_rank":155,"danceability":0.67,"region":"Sweden"},{"chart_rank":156,"danceability":0.551,"region":"Sweden"},{"chart_rank":157,"danceability":0.483,"region":"Sweden"},{"chart_rank":158,"danceability":0.595,"region":"Sweden"},{"chart_rank":159,"danceability":0.639,"region":"Sweden"},{"chart_rank":160,"danceability":0.509,"region":"Sweden"},{"chart_rank":161,"danceability":0.526,"region":"Sweden"},{"chart_rank":162,"danceability":0.695,"region":"Sweden"},{"chart_rank":163,"danceability":0.876,"region":"Sweden"},{"chart_rank":164,"danceability":0.55,"region":"Sweden"},{"chart_rank":165,"danceability":0.422,"region":"Sweden"},{"chart_rank":166,"danceability":0.735,"region":"Sweden"},{"chart_rank":167,"danceability":0.636,"region":"Sweden"},{"chart_rank":168,"danceability":0.731,"region":"Sweden"},{"chart_rank":169,"danceability":0.546,"region":"Sweden"},{"chart_rank":170,"danceability":0.5,"region":"Sweden"},{"chart_rank":171,"danceability":0.671,"region":"Sweden"},{"chart_rank":172,"danceability":0.68,"region":"Sweden"},{"chart_rank":173,"danceability":0.807,"region":"Sweden"},{"chart_rank":174,"danceability":0.559,"region":"Sweden"},{"chart_rank":175,"danceability":0.506,"region":"Sweden"},{"chart_rank":176,"danceability":0.617,"region":"Sweden"},{"chart_rank":177,"danceability":0.756,"region":"Sweden"},{"chart_rank":178,"danceability":0.542,"region":"Sweden"},{"chart_rank":179,"danceability":0.706,"region":"Sweden"},{"chart_rank":180,"danceability":0.721,"region":"Sweden"},{"chart_rank":181,"danceability":0.724,"region":"Sweden"},{"chart_rank":182,"danceability":0.389,"region":"Sweden"},{"chart_rank":183,"danceability":0.766,"region":"Sweden"},{"chart_rank":184,"danceability":0.688,"region":"Sweden"},{"chart_rank":185,"danceability":0.822,"region":"Sweden"},{"chart_rank":186,"danceability":0.671,"region":"Sweden"},{"chart_rank":187,"danceability":0.689,"region":"Sweden"},{"chart_rank":188,"danceability":0.861,"region":"Sweden"},{"chart_rank":189,"danceability":0.822,"region":"Sweden"},{"chart_rank":190,"danceability":0.505,"region":"Sweden"},{"chart_rank":191,"danceability":0.789,"region":"Sweden"},{"chart_rank":192,"danceability":0.886,"region":"Sweden"},{"chart_rank":193,"danceability":0.605,"region":"Sweden"},{"chart_rank":194,"danceability":0.552,"region":"Sweden"},{"chart_rank":195,"danceability":0.786,"region":"Sweden"},{"chart_rank":196,"danceability":0.725,"region":"Sweden"},{"chart_rank":197,"danceability":0.694,"region":"Sweden"},{"chart_rank":198,"danceability":0.637,"region":"Sweden"},{"chart_rank":199,"danceability":0.716,"region":"Sweden"},{"chart_rank":200,"danceability":0.68,"region":"Sweden"}]`);

export const Entrypoint = () => {
	const [queryType, setQueryType] = useState<QueryType>(QueryType.Attribute);

	const [dates, setDates] = useState<Dates>({
		fromDate: new Date('2017-01-01'),
		toDate: new Date('2021-12-31'),
	})

	const [currentAttributeParams, setCurrentAttributeParams] = useState<AttributeParams>({ attribute: Attribute.Danceability });
	const [currentScoreParams, setCurrentScoreParams] = useState<ScoreParams>({
		lower_bound: 0.0,
		upper_bound: 1.0,
	});
	const currentParams = queryType === QueryType.Attribute ? currentAttributeParams : currentScoreParams;

	const queryClient = useQueryClient();
	const queryFunction = useQueryFunction(queryType);
	// The following is the initial query function, which is used to get the initial data. This will contiously be invalidated when parameters change (see the useEffect)
	const { data, isLoading } = useQuery([queryType, currentParams, dates], () => queryFunction(currentParams, dates));

	const startColor = 'purple'
	const endColor = 'yellow'
	const cubehelixScale = d3
		.scaleSequential(d3.interpolateCubehelix.gamma(1)(startColor, endColor))
		.domain([0, 1])
		.unknown('grey')

	const onChangeQueryType = (event: React.ChangeEvent<HTMLInputElement>) => {
		const newQueryType = event.target.value as QueryType;
		setQueryType(newQueryType);
	}

	useEffect(() => {
		queryClient.invalidateQueries([queryType, currentParams, dates]);
	}, [queryClient, queryType, currentParams, dates])

	return (
		<>
			<ColorLegend colorScale={cubehelixScale} width={500} height={50} />
			<MapContainer data={data} isLoading={isLoading} colorScale={cubehelixScale} />
			<ScatterPlot data={fake_data} />
			<div style={{ margin: '8px' }}>
				{queryType === QueryType.Attribute ?
					<AttributeParameterChanger attribute={currentAttributeParams.attribute} setParams={setCurrentAttributeParams} /> :
					<ScoreParameterChanger score={currentScoreParams} setParams={setCurrentScoreParams} />
				}
			</div>
			<div>Query Type:</div>
			<div>
				<input type="radio" value={QueryType.Attribute} checked={queryType === QueryType.Attribute} onChange={onChangeQueryType} /> Attribute
				<input type="radio" value={QueryType.Score} checked={queryType === QueryType.Score} onChange={onChangeQueryType} /> Score
			</div>
			<div style={{ margin: '8px' }}>
				<DateChanger setDates={setDates} />
			</div>
		</>
	)
}
